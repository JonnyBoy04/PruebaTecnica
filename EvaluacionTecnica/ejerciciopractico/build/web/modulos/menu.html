<!DOCTYPE html>
<html lang="es">

    <head>
        <meta charset="UTF-8">
        <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
        <link href="../styles/icon_material_design_4495/css/materialdesignicons.min.css" rel="stylesheet">
        <link href="../javascript/VueJs/vuetify/vuetify.min.css" rel="stylesheet">
        <link rel="shortcut icon" href="../assets/logo.png" type="image/x-icon">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>BiblioVuelo</title>
        <style>
            html {
                overflow-y: hidden !important;
            }

            .msj-error {
                position: absolute !important;
                bottom: 65px;
            }

            .lux-col1 {
                /* background-image: url('resource/img/zonagif.gif'); */
                background-image: url('../assets/imgbg.jpg');

                background-position-x: left;
                position: relative;
            }

            .lux-col2 {
                position: relative;
            }

            .bg-perfil {
                background: #F6CE3C;
                /* fallback for old browsers */
                background: -webkit-linear-gradient(to right, #F6CE3C, #FFB600);
                /* Chrome 10-25, Safari 5.1-6 */
                background: linear-gradient(to right, #F6CE3C, #FFB600);
                /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
            }
        </style>
        <style>
            body {
                font-family: 'Roboto', sans-serif;
                height: 100% !important;
            }

            .backgruond {
                background-image: url(../assets/imgbg.jpg) !important;
                background-blend-mode: multiply;
            }
        </style>
    </head>

    <body>
        <div id="app">
            <v-app>
                <v-card-title class="text-center align-center"
                              style="background-color: #ffffff; color:#ffffff; padding: 0px;">
                    <v-spacer></v-spacer>
                    <v-speed-dial v-model="fab" top transition="slide-y-reverse" direction="bottom">
                        <template v-slot:activator>
                            <v-chip fab link class="ma-2" color="#003B76" outlined pill>
                                {{ nombre }} - {{rol}}
                                <v-icon v-if="fab" right>
                                    mdi-close
                                </v-icon>
                                <v-icon v-else right>
                                    mdi-account-circle
                                </v-icon>
                            </v-chip>
                        </template>
                        <v-btn @click="fnCerrarSesion()" fab dark small color="red">
                            <v-icon>mdi-logout</v-icon>
                        </v-btn>
                    </v-speed-dial>
                </v-card-title>
                <v-container fluid>
                    <v-card>
                        <v-row justify="center">
                            <v-col fluid md="3" style="padding: 0; margin: 0; height: 100%; overflow-y: auto">
                                <v-navigation-drawer permanent absolute>
                                    <v-list shaped>
                                        <v-list-group :value="false">
                                            <template v-slot:activator>
                                                <v-list-item-title>Modulo Inventario</v-list-item-title>
                                            </template>
                                            <v-list-item  link href="entrada_productos.html" target="iframe_modelo">
                                                <v-list-item-icon>
                                                    <v-icon>mdi-chevron-right</v-icon>
                                                </v-list-item-icon>
                                                <v-list-item-title class="text-wrap">Entrada de productos</v-list-item-title>
                                            </v-list-item>
                                            <v-list-item v-if="rol == 'Almacenista'" link href="salida_productos.html" target="iframe_modelo">
                                                <v-list-item-icon>
                                                    <v-icon>mdi-chevron-right</v-icon>
                                                </v-list-item-icon>
                                                <v-list-item-title class="text-wrap">Salida de productos</v-list-item-title>
                                            </v-list-item>
                                            <v-list-item v-if="rol == 'Administrador'"  link href="historial_productos.html" target="iframe_modelo">
                                                <v-list-item-icon>
                                                    <v-icon>mdi-chevron-right</v-icon>
                                                </v-list-item-icon>
                                                <v-list-item-title class="text-wrap">Historial</v-list-item-title>
                                            </v-list-item>
                                        </v-list-group>
                                    </v-list>
                                </v-navigation-drawer>
                            </v-col>
                            <v-col md="9">
                                <iframe name="iframe_modelo" src="../assets/imagen.html"
                                        style="border: medium none;margin-left: -92px;margin-top: -12px;margin-right: 0px;"
                                        class="align-center" width="110%" height="525px">
                                </iframe>
                            </v-col>
                        </v-row>
                    </v-card>
                </v-container>
            </v-app>
        </div>
        <script src="../javascript/axios/axios.js"></script>
        <script src="../javascript/VueJs/vue/vue.js"></script>
        <script src="../javascript/VueJs/vue/vue-composition-api.prod.js"></script>
        <script src="../javascript/VueJs/vuetify/vuetify.min.js"></script>
        <script>
/*  global axios, Vue, VueCompositionAPI */
const ca = window.VueCompositionAPI;


Vue.use(ca.default);
const vm = new Vue({
    el: "#app",
    vuetify: new Vuetify(),
    setup() {
        let obj = this;
        //Composition components

        const {ref, onMounted, watch} = VueCompositionAPI;
        const ctr = "../api/sistema/menu";

        const menuArray = ref([]);
        let objeto = {};
        const fab = ref(false);
        const itemMenuSeleccionado = ref([]);

        let currentUser = localStorage.getItem('currentUser');
        let user = JSON.parse(currentUser);
        const nombre = user.nombre;
        const rol = user.rol.nombreRol;

        //SNACKBAR
        const loader = ref(false);
        const snackbar = ref(false);
        const mensaje_alerta = ref('');
        const color_mensaje = ref('');


        //LifeCicle vue
        onMounted(() => {
        });

        function fnCerrarSesion() {
            localStorage.removeItem('currentUser');
            window.location = "../index.html";
        }





        return {
            fab,
            nombre,
            rol,
            loader,
            snackbar,
            mensaje_alerta,
            color_mensaje,
            fnCerrarSesion,
            objeto,
            itemMenuSeleccionado,
            currentUser
        }
    }


});
        </script>

    </body>

</html>